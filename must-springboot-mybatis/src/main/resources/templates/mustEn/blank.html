<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
<head>

<meta charset="UTF-8">
<title>測試首頁</title>
<!-- Meta Tag -->
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name='copyright' content='bonik'>
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
		
		<!-- Site Title -->
		<title>Bonik - Multipurpose Business & Digital Agency HTML Template</title>
		
		<!-- Fav Icon -->
		<link rel="icon" type="img/favicon.png" th:href="@{/mustEn/img/favicon.png}">
		
		<!-- Google Font -->
		<link th:href="@{https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,400;0,500;0,600;0,700;0,800;0,900;1,400;1,500;1,800;1,900&display=swap}" rel="stylesheet" type="text/css">   
		
		<!-- Theme Stylesheet -->
		<link rel="stylesheet" type="text/css" th:href="@{/mustEn/css/bootstrap.min.css}">
		<link rel="stylesheet" type="text/css" th:href="@{/mustEn/css/cube-portfolio.min.css}">
		<link rel="stylesheet" type="text/css" th:href="@{/mustEn/css/slicknav.min.css}">
		<link rel="stylesheet" type="text/css" th:href="@{/mustEn/css/maginific-popup.min.css}">
		<link rel="stylesheet" type="text/css" th:href="@{/mustEn/css/jquery.fancybox.css}">
		<link rel="stylesheet" type="text/css" th:href="@{/mustEn/css/animate.min.css}">
		<link rel="stylesheet" type="text/css" th:href="@{/mustEn/css/animate-text.css}">
		<link rel="stylesheet" type="text/css" th:href="@{/mustEn/css/font-awesome.min.css}">
		<link rel="stylesheet" type="text/css" th:href="@{/mustEn/css/owl.carousel.min.css}">
		
		<!-- Theme Default CSS -->
		<link rel="stylesheet" type="text/css" th:href="@{/mustEn/css/reset.css}">
		<link rel="stylesheet" type="text/css" th:href="@{/mustEn/style.css}">
		<link rel="stylesheet" type="text/css" th:href="@{/mustEn/css/responsive.css}">
		
		<!-- Jquery Plugin JS -->
		<script th:src="@{/mustEn/js/jquery.min.js}"></script>
		<script th:src="@{/mustEn/js/popper.min.js}"></script>
		<script th:src="@{/mustEn/js/bootstrap.min.js}"></script>
		<script th:src="@{/mustEn/js/theme-option.js}"></script>
		<script th:src="@{/mustEn/js/waypoints.min.js}"></script>
		<script th:src="@{/mustEn/js/jquery.counterup.min.js}"></script>
		<script th:src="@{/mustEn/js/modernizer.min.js}"></script>
		<script th:src="@{/mustEn/js/magnific-popup.min.js}"></script>
		<script th:src="@{/mustEn/js/cube-portfolio.min.js}"></script>
		<script th:src="@{/mustEn/js/owl.carousel.min.js}"></script>
		<script th:src="@{/mustEn/js/wow.min.js}"></script>
		<script th:src="@{/mustEn/js/jquery-fancybox.min.js}"></script>
		<script th:src="@{/mustEn/js/jquery.slicknav.min.js}"></script>
		<script th:src="@{/mustEn/js/steller.min.js}"></script>
		<script th:src="@{/mustEn/js/easing.min.js}"></script>
		<script th:src="@{/mustEn/js/jquery.scrollUp.min.js}"></script>
		<script th:src="@{/mustEn/js/main.js}"></script>
		<!-- End Jquery Plugin JS -->
		
		
		
		<!--[if lt IE 9]>
			<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.2/html5shiv.min.js"></script>
			<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
		<![endif]-->

</head>
<body>
測試blank.html
<p th:text="${contact?.name}"></p>

<form class="form-horizontal" id="search-form">
    <div class="form-group form-group-lg">
        <label class="col-sm-2 control-label">ajax查詢：</label>
        <div class="col-sm-10">
            <input type="text" class="form-control" id="userId" name="userId"/>
        </div>
    </div>

    <div class="form-group">
        <div class="col-sm-offset-2 col-sm-10">
            <button type="submit" id="bth-search"
                    class="btn btn-primary btn-lg">搜索
            </button>
        </div>
    </div>
    
    <div id="feedback"></div>
</form>

</body>
<script>
		$(document).ready(function () {
		    $("#search-form").submit(function (event) {
		        event.preventDefault();
		        fire_ajax_submit();
		    });

		});

		function fire_ajax_submit() {
		    $("#btn-search").prop("disabled", true);
		    $.ajax({
		        type: "POST",
		        url: "/api/search",
		        data: $('#search-form').serialize(),
		        dataType: 'json',
		        cache: false,
		        timeout: 600000,
		        success: function (data) {
		            var json = "<h4>Ajax Response</h4><pre>"
		                + JSON.stringify(data, null, 4) + "</pre>";
		            $('#feedback').html(json);
		            console.log("SUCCESS : ", data);
		            $("#btn-search").prop("disabled", false);
		        },
		        error: function (e) {
		            var json = "<h4>Ajax Response</h4><pre>"
		                + e.responseText + "</pre>";
		            $('#feedback').html(json);
		            console.log("ERROR : ", e);
		            $("#btn-search").prop("disabled", false);
		        }
		    });
		}
		</script>
</html>